<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>나는 도메인 주도 설계를 실천하고 있는걸까? - Segmentation fault</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="
블라드 코노노프 지음의 &ldquo;도메인 주도 설계 첫걸음&quot;을 읽고 정리한 글입니다.

회사를 이직하고, 제품의 기획이 내부가 아닌 외부에 의해 좌우되는 경험을 종종 하고 있다. 물론 이전 회사에서도 다양한 사용자의 의견을 들으며 제품을 개발해 나갔지만, 어디까지나 회사의 방향성과 맞고, 현재 설계에서 구현이 가능한 수준에서 최선의 대안을 선택하는 반면, 공공교육의 경우 그 조건이 강하다고 생각할 수 있다. 예를 들어서 시각 장애인 학생이 학습에 어려울 수 있으니 수정하라고 한다면 지금까지 만들어진 모든 콘텐츠 및 개발 기능에 대해서 변경이 필요하게 된다. 이럴 때마다 백엔드 개발자의 입장에선 각 도메인 모델과 관계성이 변경되면 코드의 구조가 크게 흔들리게 된다." />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://dygma0.github.io/posts/ddd-first-step/">
  <meta property="og:site_name" content="Segmentation fault">
  <meta property="og:title" content="나는 도메인 주도 설계를 실천하고 있는걸까?">
  <meta property="og:description" content=" 블라드 코노노프 지음의 “도메인 주도 설계 첫걸음&#34;을 읽고 정리한 글입니다.
회사를 이직하고, 제품의 기획이 내부가 아닌 외부에 의해 좌우되는 경험을 종종 하고 있다. 물론 이전 회사에서도 다양한 사용자의 의견을 들으며 제품을 개발해 나갔지만, 어디까지나 회사의 방향성과 맞고, 현재 설계에서 구현이 가능한 수준에서 최선의 대안을 선택하는 반면, 공공교육의 경우 그 조건이 강하다고 생각할 수 있다. 예를 들어서 시각 장애인 학생이 학습에 어려울 수 있으니 수정하라고 한다면 지금까지 만들어진 모든 콘텐츠 및 개발 기능에 대해서 변경이 필요하게 된다. 이럴 때마다 백엔드 개발자의 입장에선 각 도메인 모델과 관계성이 변경되면 코드의 구조가 크게 흔들리게 된다.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-28T22:49:14+09:00">
    <meta property="article:modified_time" content="2024-09-28T22:49:14+09:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="나는 도메인 주도 설계를 실천하고 있는걸까?">
  <meta name="twitter:description" content=" 블라드 코노노프 지음의 “도메인 주도 설계 첫걸음&#34;을 읽고 정리한 글입니다.
회사를 이직하고, 제품의 기획이 내부가 아닌 외부에 의해 좌우되는 경험을 종종 하고 있다. 물론 이전 회사에서도 다양한 사용자의 의견을 들으며 제품을 개발해 나갔지만, 어디까지나 회사의 방향성과 맞고, 현재 설계에서 구현이 가능한 수준에서 최선의 대안을 선택하는 반면, 공공교육의 경우 그 조건이 강하다고 생각할 수 있다. 예를 들어서 시각 장애인 학생이 학습에 어려울 수 있으니 수정하라고 한다면 지금까지 만들어진 모든 콘텐츠 및 개발 기능에 대해서 변경이 필요하게 된다. 이럴 때마다 백엔드 개발자의 입장에선 각 도메인 모델과 관계성이 변경되면 코드의 구조가 크게 흔들리게 된다.">

	
        <link href="https://dygma0.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://dygma0.github.io/css/main.5cebd7d4fb2b97856af8d32a6def16164fcf7d844e98e236fcb3559655020373.css" />

	
	

	
	

	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://dygma0.github.io/">Segmentation fault</a>
	</div>
	<nav>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">나는 도메인 주도 설계를 실천하고 있는걸까?</h1>
			<div class="meta">Posted on Sep 28, 2024</div>
		</div>
		

		

		<section class="body">
			<blockquote>
<p>블라드 코노노프 지음의 &ldquo;도메인 주도 설계 첫걸음&quot;을 읽고 정리한 글입니다.</p>
</blockquote>
<p>회사를 이직하고, 제품의 기획이 내부가 아닌 외부에 의해 좌우되는 경험을 종종 하고 있다. 물론 이전 회사에서도 다양한 사용자의 의견을 들으며 제품을 개발해 나갔지만, 어디까지나 회사의 방향성과 맞고, 현재 설계에서 구현이 가능한 수준에서 최선의 대안을 선택하는 반면, 공공교육의 경우 그 조건이 강하다고 생각할 수 있다. 예를 들어서 시각 장애인 학생이 학습에 어려울 수 있으니 수정하라고 한다면 지금까지 만들어진 모든 콘텐츠 및 개발 기능에 대해서 변경이 필요하게 된다. 이럴 때마다 백엔드 개발자의 입장에선 각 도메인 모델과 관계성이 변경되면 코드의 구조가 크게 흔들리게 된다.</p>
<p>따라서 이러한 복잡한 이해관계 속에서 단단한 소프트웨어를 만들기 위해선 개발자는 비즈니스에 담긴 도메인을 파악할 필요가 생기게 된다.</p>
<h2 id="비즈니스-도메인-분석하기">비즈니스 도메인 분석하기</h2>
<p><img src="https://i.imgur.com/NNq4yty.png" alt="image-20240928231838530"></p>
<p>이 책에선 핵심 하위 도메인을 3가지 종류로 구분한다. 핵심 하위 도메인, 일반 하위 도메인 그리고 지원 하위 도메인으로 각각 다음과 같은 특징을 가진다.</p>
<ul>
<li>핵심 하위 도메인: 경쟁사와 차별화된 핵심 가치를 가진 도메인</li>
<li>일반 하위 도메인: 모든 회사에서 일반적인 방식으로 수행하는 비즈니스 활동</li>
<li>지원 하위 도메인: 회사의 비즈니스를 지원하는 활동</li>
</ul>
<p>즉 핵심 하위 도메인은 고객이 다른 회사가 아닌, 우리 회사 제품을 선택하게 만드는 핵심 가치를 제공하는 도메인이다. 여기서 중요한 점은 핵심 하위 도메인이라 하더라도 각자 가치를 제공하는 것이 아닌, 여러 핵심 하위 도메인이 서로 유기적으로 동작하며 가치를 제공하게 되는 것이다.</p>
<p>일반 하위 도메인은 모든 회사가 일반적으로 수행하지만 복잡한 도메인을 의미하며, 가장 대표적으로 암호화 및 인증에 해당한다. 이 도메인은 외부 솔루션을 활용을 고려해도 좋은 부분이다.</p>
<p>지원 하위 도메인은 회사의 비즈니스 활동을 지원하며 핵심 하위 도메인과 다르게 어떠한 경쟁. 우위를 제공하지 않다. 예를 사내 관리자 페이지 등이 이에 해당한다.</p>
<p>현재 재직 중인 서비스를 생각해보면 핵심 하위 도메인은 AI를 통한 학생 개별에 맞춰 학습 환경을 제공하는 것과 이를 콘텐츠 및 도구를 제공하는 수업 도구라고 할 수 있다. 그리고 일반 하위 도메인으로 logto와 ncloud를 활용하며 제품 개발에 효율적으로 집중한다고 할 수 있다. 하지만 현재 회사 업무 대부분은 자동화가 이뤄지지 않은 상황으로 지원 하위 도메인에 대해서 좀 더 고민해 볼 필요가 있어 보인다.</p>
<h2 id="도메인-지식-찾아내기">도메인 지식 찾아내기</h2>
<p>개발자는 소프트웨어를 통해 세상의 문제를 해결한다. 하지만 이 문제는 정답이 정해진게 아니라, 다양한 환경에 의해 변화하게 된다.</p>
<blockquote>
<p>소프트웨어 개발은 배우는 과정이고, 작동하는 코드는 그 부산물이다 - 알베르토 브랜돌리니</p>
</blockquote>
<p>즉, 소프트웨어가 개발됨에 따라서 도메인에 대한 지식은 깊어지고 다양한 환경 요인에 의해 파악된 도메인 관계성도 변경되는 매우 역동적인 분야이다.</p>
<p>그리고 모든 소프트웨어 프로젝트는 다양한 직군의 사람들과 함께 현업을 통해 이뤄진다. 각 직군의 사람들은 서로 다른 전문 지식을 가지고 하나의 문제에 대해서 각자 맡은 전문 지식에 맞춰 해석하게 된다. 예를 들어서 나는 교실이란 도메인에 대해서 어떤 데이터를 가지고 있는지 학생과 선생님은 여러 교실에 걸쳐 존재할 수 있는지 또는 교실에 가입하기 위해선 어떤 권한이 필요한지에 대해서 고민할 것이지만, 디자이너는 다른 형태의 고민을 가지게 될 것이다.</p>
<p>이러하듯 소프트웨어가 성공적으로 진행되기 위해선 다양한 전문 지식을 갖춘 직군들이 한 곳에 모여서 동일한 톤의 대화를 나눌 수 있어야 한다. 그렇지 않으면 예전 예능의 말 전달하기 게임처럼 보잉 747이 최종 결과는 날개 달린 하마가 만들어질 수 있다. 이를 예방하기 위해선 모든 직군이 동일한 멘탈 모델을 가지기 위해서 유비쿼터스 언어의 중요성을 설명한다.</p>
<h3 id="비즈니스-언어">비즈니스 언어</h3>
<p>유비쿼터스 언어는 비즈니스 언어이다. 그리고 비즈니스는 다양한 전문가들이 협업을 통해서 이뤄진다. 따라서 유비쿼터스 언어는 어느한 분야에 기술 용어를 빼고 비즈니스 도메인만을 이해하기 위한 용어로 구성되어야 한다.</p>
<p>현재 재직 중인 회사에선 유비쿼터스 언어에 대해 고민하며 사용한다. 예를 들어서 수업 마무리 시점에 학생들의 수업 리뷰를 한글로 후기라 표현할지, 리뷰 또는 수업 의견 등으로 표현할지에 대해서 논의를 한다. 하지만 작업 중간 쯤에는 작업자들 모두가 서로 다른 형식으로 리뷰 또는 변수명에서 서로 다른 형태로 사용하는 것을 종종 목격하게 된다.</p>
<p>개발자가 비즈니스 모델에서 멀어지며 동작하는 코드(앞에서 언급한 부산물)에 집중하여 기능 동작에 집중하는 것이 아닐까 하는 고민이 들었다.</p>
<h3 id="비즈니스-도메인-모델">비즈니스 도메인 모델</h3>
<p>유비쿼터스 언어를 발전하는 것은 도메인 전문가의 멘탈 모델을 다듬는 과정이라 생각한다. 그리고 이 과정에서 도메인은 서비스에 필요한 행동과 상태를 가지게 되며 이를 비즈니스 도메인 모델이라고 한다. 책에서 들은 예시로 지도가 있다. 지도는 현재의 위치와 앞으로 목적지를 안내한다는 일반화된 목적에서 지하철 노선도, 지형도, 항해 지도 등으로 문제 해결 목적에 맞게 다듬어 가면서 필요한 부분과 불필요한 부분을 제거해 나가게 된다.</p>
<p>이처럼 도메인 모델은 도메인 전문가가 바라보는 문제를 모델화한 것으로 이를 설계와 코드로 번역하기 위해선 도메인 전문가와 유비쿼터스 언어를 통해 끊임없이 질문하고 파악해야 한다. 그리고 그 과정에서 유비쿼터스 언어는 더욱 진화하고 도메인 모델은 더욱 명확해진다.</p>
<h2 id="도메인-복잡성-관리">도메인 복잡성 관리</h2>
<p>도메인은 시간이 지나면서 요구사항이 계속 발견되고 변화하게 됩니다. 그 과정에서 도메인 간 충돌이 자연스럽게 발생할 수 있습니다. 예를 들어, 책에서는 &lsquo;리드(lead)&lsquo;라는 용어가 마케팅 부서와 영업 부서에서 각각 어떻게 다르게 이해되는지 설명합니다.</p>
<p>이처럼 도메인 간 충돌이 발생하면, 이를 하나의 도메인으로 통합할 경우 서로 다른 문제를 해결하기 위해 도메인이 지나치게 복잡해지는 문제가 발생합니다. 실제로, 현재 회사에서도 비슷한 상황이 있었습니다. 예를 들어, 수업이 끝나면 학생이 선생님에게 피드백을 줄 수 있고, 다른 도메인에서는 선생님이 학생에 대해 피드백을 줄 수 있습니다. &lsquo;피드백&rsquo;이라는 관점에서 보면 두 도메인은 동일한 요구사항을 만족시키는 것처럼 보이지만, 두 도메인에 존재하는 피드백은 각각 다른 문제를 해결하려고 하며, 모델 자체도 다릅니다. 즉, &lsquo;피드백&rsquo;이라는 이름만 같을 뿐, 실질적으로는 서로 다른 개념이라고 할 수 있습니다.</p>
<p>이러한 상황에서는 문맥을 분리하는 것이 좋습니다. 책에서는 이를 <code>바운디드 컨텍스트(Bounded Context)</code>로 표현하며, 물리적인 경계를 나누어 도메인을 분리할 것을 제안합니다. 앞서 언급한 사례처럼, 모델은 해결하고자 하는 문제에 따라 달라질 수 있으며, 각 모델은 그 문제를 해결하는 데 필요한 정도의 상태만을 가져야 합니다. 예를 들어, 세계 지도에서는 지하철 노선이 필요 없고, 지하철 노선도에서는 위도와 경도 정보가 필요하지 않습니다.</p>
<p>하위 도메인은 도메인 전문가가 유즈케이스에서 발견하는 것이며, 바운디드 컨텍스트는 소프트웨어 개발자가 도메인 간의 관계를 파악하고 설계하는 것입니다.</p>
<p>이와 같이 바운디드 컨텍스트를 정의함으로써 각 도메인이 독립적으로 발전할 수 있으며, 복잡성을 줄이고 명확한 경계를 유지할 수 있습니다.</p>

		</section>

		<div class="post-tags">
			
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"></div>
  <div class="footer-info">
    2024  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


</div>
    </body>
</html>
